{"ast":null,"code":"var _jsxFileName = \"/Users/jinzo/Desktop/projects/StrangerThings/src/components/Messages.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { callApi } from \"../util/api\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Messages = _ref => {\n  _s();\n\n  let {\n    posts,\n    token\n  } = _ref;\n  const [message, setMessage] = useState(\"\");\n  const location = useLocation();\n  const {\n    id\n  } = location.state;\n\n  async function sendMessage(message) {\n    try {\n      await callApi({\n        url: `/posts/${id}/messages`,\n        method: \"POST\",\n        token,\n        body: {\n          message: {\n            content: message\n          }\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Send a Message: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), posts.map(post => id === post._id ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: post.location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: async event => {\n          event.preventDefault();\n          sendMessage(message);\n          setMessage(\"\");\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"message\",\n          value: message,\n          onChange: event => setMessage(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Send Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this)]\n    }, post.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }, this) : null)]\n  }, void 0, true);\n};\n\n_s(Messages, \"dwANQcTixha6MT5emQbH8jhQ9QU=\", false, function () {\n  return [useLocation];\n});\n\n_c = Messages;\nexport default Messages;\n\nvar _c;\n\n$RefreshReg$(_c, \"Messages\");","map":{"version":3,"sources":["/Users/jinzo/Desktop/projects/StrangerThings/src/components/Messages.js"],"names":["React","useState","callApi","useLocation","Messages","posts","token","message","setMessage","location","id","state","sendMessage","url","method","body","content","error","console","log","map","post","_id","title","price","description","event","preventDefault","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;;AAEA,MAAMC,QAAQ,GAAG,QAAsB;AAAA;;AAAA,MAArB;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAqB;AACrC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAMQ,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAM;AAAEO,IAAAA;AAAF,MAASD,QAAQ,CAACE,KAAxB;;AACA,iBAAeC,WAAf,CAA2BL,OAA3B,EAAoC;AAClC,QAAI;AACF,YAAML,OAAO,CAAC;AACZW,QAAAA,GAAG,EAAG,UAASH,EAAG,WADN;AAEZI,QAAAA,MAAM,EAAE,MAFI;AAGZR,QAAAA,KAHY;AAIZS,QAAAA,IAAI,EAAE;AACJR,UAAAA,OAAO,EAAE;AACPS,YAAAA,OAAO,EAAET;AADF;AADL;AAJM,OAAD,CAAb;AAUD,KAXD,CAWE,OAAOU,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF;;AAED,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEGZ,KAAK,CAACe,GAAN,CAAWC,IAAD,IACTX,EAAE,KAAKW,IAAI,CAACC,GAAZ,gBACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE;AAAA,kBAAKD,IAAI,CAACE;AAAV;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,kBAAKF,IAAI,CAACG;AAAV;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,kBAAKH,IAAI,CAACI;AAAV;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAA,kBAAKJ,IAAI,CAACZ;AAAV;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE;AACE,QAAA,QAAQ,EAAE,MAAOiB,KAAP,IAAiB;AACzBA,UAAAA,KAAK,CAACC,cAAN;AACAf,UAAAA,WAAW,CAACL,OAAD,CAAX;AACAC,UAAAA,UAAU,CAAC,EAAD,CAAV;AACD,SALH;AAAA,gCAOE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,SAFd;AAGE,UAAA,KAAK,EAAED,OAHT;AAIE,UAAA,QAAQ,EAAGmB,KAAD,IAAWlB,UAAU,CAACkB,KAAK,CAACE,MAAN,CAAaC,KAAd;AAJjC;AAAA;AAAA;AAAA;AAAA,gBAPF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA,OAA2BR,IAAI,CAACX,EAAhC;AAAA;AAAA;AAAA;AAAA,YADF,GAsBI,IAvBL,CAFH;AAAA,kBADF;AA8BD,CAnDD;;GAAMN,Q;UAEaD,W;;;KAFbC,Q;AAoDN,eAAeA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { callApi } from \"../util/api\";\nimport { useLocation } from \"react-router-dom\";\n\nconst Messages = ({ posts, token }) => {\n  const [message, setMessage] = useState(\"\");\n  const location = useLocation();\n  const { id } = location.state;\n  async function sendMessage(message) {\n    try {\n      await callApi({\n        url: `/posts/${id}/messages`,\n        method: \"POST\",\n        token,\n        body: {\n          message: {\n            content: message,\n          },\n        },\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      <h1>Send a Message: </h1>\n      {posts.map((post) =>\n        id === post._id ? (\n          <div className=\"post\" key={post.id}>\n            <h2>{post.title}</h2>\n            <h3>{post.price}</h3>\n            <h3>{post.description}</h3>\n            <h3>{post.location}</h3>\n            <form\n              onSubmit={async (event) => {\n                event.preventDefault();\n                sendMessage(message);\n                setMessage(\"\");\n              }}\n            >\n              <input\n                type=\"text\"\n                placeholder=\"message\"\n                value={message}\n                onChange={(event) => setMessage(event.target.value)}\n              ></input>\n              <button>Send Message</button>\n            </form>\n          </div>\n        ) : null\n      )}\n    </>\n  );\n};\nexport default Messages;\n"]},"metadata":{},"sourceType":"module"}